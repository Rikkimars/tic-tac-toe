<template>
  <div class="right-panel">
    <h1>–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏</h1>

    <p v-if="game.winner && game.winner !== '–ù–∏—á—å—è'">üèÜ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: {{ game.winner }}</p>
    <p v-else-if="game.winner === '–ù–∏—á—å—è'">ü§ù –ù–∏—á—å—è!</p>
    <p v-else>–•–æ–¥–∏—Ç: {{ game.currentPlayer }}</p>

    <button @click="game.resetGame()">–°–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä—É</button>

    <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</h3>
    <ul>
      <li>X: {{ game.stats.X }} –ø–æ–±–µ–¥</li>
      <li>O: {{ game.stats.O }} –ø–æ–±–µ–¥</li>
      <li>–ù–∏—á—å—è: {{ game.stats.draws }}</li>
    </ul>

    <!-- –û—Ç–¥–µ–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –∏–≥—Ä—ã -->
    <button
      @click="clearAll"
      class="clear-btn"
    >
      –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ —Å–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä—É
    </button>
  </div>
</template>

<script setup>
import { useGameStore } from '../store/gameStore'
const game = useGameStore()

function clearAll() {
  game.stats = { X: 0, O: 0, draws: 0 }
  localStorage.removeItem('ttt-stats')
  game.resetGame()
}
</script>


